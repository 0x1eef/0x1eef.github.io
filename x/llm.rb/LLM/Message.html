<!DOCTYPE html>
<HTML>
<HEAD>
  <META name="generator" content=
  "HTML Tidy for HTML5 for FreeBSD version 5.8.0">
  <META charset="utf-8">
  <META name="viewport" content="width=device-width, initial-scale=1.0">
  <TITLE>Class: LLM::Message — Documentation by YARD 0.9.36</TITLE>
  <LINK rel="stylesheet" href="../css/style.css" type="text/css">
  <LINK rel="stylesheet" href="../css/common.css" type="text/css">
  <LINK rel="stylesheet" href="../css/main.css" type="text/css">
  <LINK rel="stylesheet" href="../css/rouge.css" type="text/css">
  <SCRIPT type="text/javascript">
  pathId = "LLM::Message";
  relpath = '../';
  </SCRIPT>
  <SCRIPT type="text/javascript" charset="utf-8" src=
  "../js/jquery.js"></SCRIPT>
  <SCRIPT type="text/javascript" charset="utf-8" src="../js/app.js"></SCRIPT>
</HEAD>
<BODY>
  <DIV class="nav_wrap">
    <IFRAME id="nav" src="../class_list.html?1" name="nav"></IFRAME>
    <DIV id="resizer"></DIV>
  </DIV>
  <DIV id="main" tabindex="-1">
    <DIV id="header">
      <DIV id="menu">
        <A href="../_index.html">Index (M)</A> » <SPAN class=
        'title'><SPAN class='object_link'><A href="../LLM.html" title=
        "LLM (module)">LLM</A></SPAN></SPAN> » <SPAN class=
        "title">Message</SPAN>
      </DIV>
      <DIV id="search">
        <A class="full_list_link" id="class_list_link" href=
        "../class_list.html"><SVG width="24" height="24">
        <RECT x="0" y="4" width="24" height="4" rx="1" ry="1"></RECT>
        <RECT x="0" y="12" width="24" height="4" rx="1" ry="1"></RECT>
        <RECT x="0" y="20" width="24" height="4" rx="1" ry="1">
        </RECT></SVG></A>
      </DIV>
      <DIV class="clear"></DIV>
    </DIV>
    <DIV id="content">
      <H1>Class: LLM::Message</H1>
      <DIV class="box_info">
        <DL>
          <DT>Inherits:</DT>
          <DD>
            <SPAN class="inheritName">Object</SPAN>
            <UL class="fullTree">
              <LI>Object</LI>
              <LI class="next">LLM::Message</LI>
            </UL><A href="#" class="inheritanceTree">show all</A>
          </DD>
        </DL>
        <DL>
          <DT>Defined in:</DT>
          <DD>lib/llm/message.rb</DD>
        </DL>
      </DIV>
      <H2>Instance Attribute Summary <SMALL><A href="#" class=
      "summary_toggle">collapse</A></SMALL></H2>
      <UL class="summary">
        <LI class="public">
          <SPAN class="summary_signature"><A href="#role-instance_method"
          title="#role (instance method)">#<STRONG>role</STRONG> ⇒
          Symbol</A></SPAN> <SPAN class="note title readonly">readonly</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns the role of the
            message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#content-instance_method"
          title="#content (instance method)">#<STRONG>content</STRONG> ⇒
          String</A></SPAN> <SPAN class="note title readonly">readonly</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns the content of the
            message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#extra-instance_method"
          title="#extra (instance method)">#<STRONG>extra</STRONG> ⇒
          Hash</A></SPAN> <SPAN class="note title readonly">readonly</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns extra context associated with
            the message.</SPAN></P>
          </DIV>
        </LI>
      </UL>
      <H2>Instance Method Summary <SMALL><A href="#" class=
      "summary_toggle">collapse</A></SMALL></H2>
      <UL class="summary">
        <LI class="public">
          <SPAN class="summary_signature"><A href="#inspect-instance_method"
          title="#inspect (instance method)">#<STRONG>inspect</STRONG> ⇒
          String</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns a string representation of
            the message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#to_h-instance_method"
          title="#to_h (instance method)">#<STRONG>to_h</STRONG> ⇒
          Hash</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns a hash representation of the
            message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#==-instance_method" title=
          "#== (instance method)">#<STRONG>==</STRONG>(other) ⇒ Boolean</A>
          (also: #eql?)</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when two objects have
            the same role and content.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#content!-instance_method"
          title="#content! (instance method)">#<STRONG>content!</STRONG> ⇒
          Hash</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Try to parse JSON content.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#functions-instance_method"
          title="#functions (instance method)">#<STRONG>functions</STRONG> ⇒
          Array&lt;LLM::Function&gt;</A></SPAN>
          <DIV class='inline'></DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href=
          "#assistant%3F-instance_method" title=
          "#assistant? (instance method)">#<STRONG>assistant?</STRONG> ⇒
          Boolean</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when the message is an
            assistant message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#system%3F-instance_method"
          title="#system? (instance method)">#<STRONG>system?</STRONG> ⇒
          Boolean</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when the message is a
            system message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#user%3F-instance_method"
          title="#user? (instance method)">#<STRONG>user?</STRONG> ⇒
          Boolean</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when the message is a
            user message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href=
          "#tool_call%3F-instance_method" title=
          "#tool_call? (instance method)">#<STRONG>tool_call?</STRONG> ⇒
          Boolean</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when the message
            requests a function call.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href=
          "#tool_return%3F-instance_method" title=
          "#tool_return? (instance method)">#<STRONG>tool_return?</STRONG> ⇒
          Boolean</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns true when the message
            represents a function return.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#response-instance_method"
          title="#response (instance method)">#<STRONG>response</STRONG> ⇒
          LLM::Response<SUP>?</SUP></A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns the response associated with
            the message, or nil.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href=
          "#annotations-instance_method" title=
          "#annotations (instance method)">#<STRONG>annotations</STRONG> ⇒
          Array&lt;LLM::Object&gt;</A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns annotations associated with
            the message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#usage-instance_method"
          title="#usage (instance method)">#<STRONG>usage</STRONG> ⇒
          LLM::Object<SUP>?</SUP></A> (also: #token_usage)</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns token usage
            statistics.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#model-instance_method"
          title="#model (instance method)">#<STRONG>model</STRONG> ⇒
          String<SUP>?</SUP></A></SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns the model associated with a
            message.</SPAN></P>
          </DIV>
        </LI>
        <LI class="public">
          <SPAN class="summary_signature"><A href="#initialize-instance_method"
          title=
          "#initialize (instance method)">#<STRONG>initialize</STRONG>(role,
          content, extra = {}) ⇒ LLM::Message</A></SPAN> <SPAN class=
          "note title constructor">constructor</SPAN>
          <DIV class='inline'>
            <P><SPAN class="summary_desc">Returns a new message.</SPAN></P>
          </DIV>
        </LI>
      </UL>
      <DIV id="constructor_details" class="method_details_list">
        <H2>Constructor Details</H2>
        <DIV class="method_details first">
          <H3 class="signature first" id="initialize-instance_method">
          #<STRONG>initialize</STRONG>(role, content, extra = {}) ⇒
          <TT><SPAN class='object_link'><A href="" title=
          "LLM::Message (class)">LLM::Message</A></SPAN></TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns a new message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Parameters:</P>
            <UL class="param">
              <LI><SPAN class='name'>role</SPAN> <SPAN class=
              'type'>(<TT>Symbol</TT>)</SPAN></LI>
              <LI><SPAN class='name'>content</SPAN> <SPAN class=
              'type'>(<TT>String</TT>)</SPAN></LI>
              <LI><SPAN class='name'>extra</SPAN> <SPAN class=
              'type'>(<TT>Hash</TT>)</SPAN> <EM class="default">(defaults to:
              <TT>{}</TT>)</EM></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


26
27
28
29
30</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 26</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_initialize'>initialize</SPAN><SPAN class=
'lparen'>(</SPAN><SPAN class=
'id identifier rubyid_role'>role</SPAN><SPAN class='comma'>,</SPAN> <SPAN class='id identifier rubyid_content'>content</SPAN><SPAN class='comma'>,</SPAN> <SPAN class='id identifier rubyid_extra'>extra</SPAN> <SPAN class='op'>=</SPAN> <SPAN class='lbrace'>{</SPAN><SPAN class='rbrace'>}</SPAN><SPAN class='rparen'>)</SPAN>
  <SPAN class='ivar'>@role</SPAN> <SPAN class='op'>=</SPAN> <SPAN class=
'id identifier rubyid_role'>role</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_to_s'>to_s</SPAN>
  <SPAN class='ivar'>@content</SPAN> <SPAN class='op'>=</SPAN> <SPAN class=
'id identifier rubyid_content'>content</SPAN>
  <SPAN class='ivar'>@extra</SPAN> <SPAN class='op'>=</SPAN> <SPAN class=
'id identifier rubyid_extra'>extra</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
      </DIV>
      <DIV id="instance_attr_details" class="attr_details">
        <H2>Instance Attribute Details</H2><SPAN id=""></SPAN>
        <DIV class="method_details first">
          <H3 class="signature first" id="role-instance_method">
          #<STRONG>role</STRONG> ⇒ <TT>Symbol</TT> <SPAN class=
          "extras">(readonly)</SPAN></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns the role of the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Symbol</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


8
9
10</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 8</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class='id identifier rubyid_role'>role</SPAN>
  <SPAN class='ivar'>@role</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV><SPAN id=""></SPAN>
        <DIV class="method_details">
          <H3 class="signature" id="content-instance_method">
          #<STRONG>content</STRONG> ⇒ <TT>String</TT> <SPAN class=
          "extras">(readonly)</SPAN></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns the content of the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>String</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


13
14
15</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 13</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_content'>content</SPAN>
  <SPAN class='ivar'>@content</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV><SPAN id=""></SPAN>
        <DIV class="method_details">
          <H3 class="signature" id="extra-instance_method">
          #<STRONG>extra</STRONG> ⇒ <TT>Hash</TT> <SPAN class=
          "extras">(readonly)</SPAN></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns extra context associated with the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Hash</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


18
19
20</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 18</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_extra'>extra</SPAN>
  <SPAN class='ivar'>@extra</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
      </DIV>
      <DIV id="instance_method_details" class="method_details_list">
        <H2>Instance Method Details</H2>
        <DIV class="method_details first">
          <H3 class="signature first" id="inspect-instance_method">
          #<STRONG>inspect</STRONG> ⇒ <TT>String</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns a string representation of the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>String</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


149
150
151
152
153</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 149</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_inspect'>inspect</SPAN>
  <SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class=
'tstring_content'>#&lt;</SPAN><SPAN class='embexpr_beg'>#{</SPAN><SPAN class=
'kw'>self</SPAN><SPAN class='period'>.</SPAN><SPAN class=
'id identifier rubyid_class'>class</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_name'>name</SPAN><SPAN class='embexpr_end'>}</SPAN><SPAN class='tstring_content'>:0x</SPAN><SPAN class='embexpr_beg'>#{</SPAN><SPAN class='id identifier rubyid_object_id'>object_id</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_to_s'>to_s</SPAN><SPAN class='lparen'>(</SPAN><SPAN class='int'>16</SPAN><SPAN class='rparen'>)</SPAN><SPAN class='embexpr_end'>}</SPAN><SPAN class='tstring_content'> </SPAN><SPAN class='tstring_end'>"</SPAN></SPAN> \
  <SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class=
'tstring_content'>tool_call=</SPAN><SPAN class=
'embexpr_beg'>#{</SPAN><SPAN class=
'id identifier rubyid_tool_calls'>tool_calls</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_any?'>any?</SPAN><SPAN class='embexpr_end'>}</SPAN><SPAN class='tstring_content'> role=</SPAN><SPAN class='embexpr_beg'>#{</SPAN><SPAN class='id identifier rubyid_role'>role</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_inspect'>inspect</SPAN><SPAN class='embexpr_end'>}</SPAN><SPAN class='tstring_content'> </SPAN><SPAN class='tstring_end'>"</SPAN></SPAN> \
  <SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class=
'tstring_content'>content=</SPAN><SPAN class=
'embexpr_beg'>#{</SPAN><SPAN class='id identifier rubyid_content'>content</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_inspect'>inspect</SPAN><SPAN class='embexpr_end'>}</SPAN><SPAN class='tstring_content'>&gt;</SPAN><SPAN class='tstring_end'>"</SPAN></SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="to_h-instance_method">
          #<STRONG>to_h</STRONG> ⇒ <TT>Hash</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns a hash representation of the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Hash</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


35
36
37</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 35</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class='id identifier rubyid_to_h'>to_h</SPAN>
  <SPAN class='lbrace'>{</SPAN><SPAN class='label'>role:</SPAN><SPAN class=
'comma'>,</SPAN> <SPAN class='label'>content:</SPAN><SPAN class=
'rbrace'>}</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="==-instance_method">
          #<STRONG>==</STRONG>(other) ⇒ <TT>Boolean</TT> <SPAN class=
          "aliases">Also known as: <SPAN class="names"><SPAN id=
          'eql?-instance_method'>eql?</SPAN></SPAN></SPAN></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when two objects have the same role and
              content</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Parameters:</P>
            <UL class="param">
              <LI>
                <SPAN class='name'>other</SPAN> <SPAN class=
                'type'>(<TT><SPAN class='object_link'><A href="Object.html"
                title="LLM::Object (class)">Object</A></SPAN></TT>)</SPAN> —
                <DIV class='inline'>
                  <P>The other object to compare</P>
                </DIV>
              </LI>
            </UL>
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Boolean</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


44
45
46
47
48
49
50</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 44</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class='op'>==</SPAN><SPAN class=
'lparen'>(</SPAN><SPAN class=
'id identifier rubyid_other'>other</SPAN><SPAN class='rparen'>)</SPAN>
  <SPAN class='kw'>if</SPAN> <SPAN class=
'id identifier rubyid_other'>other</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_respond_to?'>respond_to?</SPAN><SPAN class=
'lparen'>(</SPAN><SPAN class='symbol'>:to_h</SPAN><SPAN class='rparen'>)</SPAN>
    <SPAN class='id identifier rubyid_to_h'>to_h</SPAN> <SPAN class=
'op'>==</SPAN> <SPAN class=
'id identifier rubyid_other'>other</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_to_h'>to_h</SPAN>
  <SPAN class='kw'>else</SPAN>
    <SPAN class='kw'>false</SPAN>
  <SPAN class='kw'>end</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="content!-instance_method">
          #<STRONG>content!</STRONG> ⇒ <TT>Hash</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Try to parse JSON content</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI>
                <SPAN class='type'>(<TT>Hash</TT>)</SPAN> —
                <DIV class='inline'>
                  <P>Returns the parsed content as a Hash</P>
                </DIV>
              </LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


57
58
59</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 57</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_content!'>content!</SPAN>
  <SPAN class='const'><SPAN class='object_link'><A href="../LLM.html" title=
"LLM (module)">LLM</A></SPAN></SPAN><SPAN class='period'>.</SPAN><SPAN class=
'id identifier rubyid_json'><SPAN class='object_link'><A href=
"../LLM.html#json-class_method" title=
"LLM.json (method)">json</A></SPAN></SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_load'>load</SPAN><SPAN class='lparen'>(</SPAN><SPAN class='id identifier rubyid_content'>content</SPAN><SPAN class='rparen'>)</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="functions-instance_method">
          #<STRONG>functions</STRONG> ⇒ <TT>Array&lt;<SPAN class=
          'object_link'><A href="Function.html" title=
          "LLM::Function (class)">LLM::Function</A></SPAN>&gt;</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion"></DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Array&lt;<SPAN class=
              'object_link'><A href="Function.html" title=
              "LLM::Function (class)">LLM::Function</A></SPAN>&gt;</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


63
64
65
66
67
68
69</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 63</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_functions'>functions</SPAN>
  <SPAN class='ivar'>@functions</SPAN> <SPAN class='op'>||=</SPAN> <SPAN class=
'id identifier rubyid_tool_calls'>tool_calls</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_map'>map</SPAN> <SPAN class=
'kw'>do</SPAN> <SPAN class='op'>|</SPAN><SPAN class=
'id identifier rubyid_fn'>fn</SPAN><SPAN class='op'>|</SPAN>
    <SPAN class='id identifier rubyid_function'>function</SPAN> <SPAN class=
'op'>=</SPAN> <SPAN class='id identifier rubyid_tools'>tools</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_find'>find</SPAN> <SPAN class=
'lbrace'>{</SPAN> <SPAN class='id identifier rubyid__1'>_1</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_name'>name</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_to_s'>to_s</SPAN> <SPAN class='op'>==</SPAN> <SPAN class='id identifier rubyid_fn'>fn</SPAN><SPAN class='lbracket'>[</SPAN><SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class='tstring_content'>name</SPAN><SPAN class='tstring_end'>"</SPAN></SPAN><SPAN class='rbracket'>]</SPAN> <SPAN class='rbrace'>}</SPAN><SPAN class='period'>.</SPAN><SPAN class='id identifier rubyid_dup'>dup</SPAN>
    <SPAN class='id identifier rubyid_function'>function</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_tap'>tap</SPAN> <SPAN class=
'lbrace'>{</SPAN> <SPAN class='id identifier rubyid__1'>_1</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_id'>id</SPAN> <SPAN class=
'op'>=</SPAN> <SPAN class='id identifier rubyid_fn'>fn</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_id'>id</SPAN> <SPAN class=
'rbrace'>}</SPAN>
    <SPAN class='id identifier rubyid_function'>function</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_tap'>tap</SPAN> <SPAN class=
'lbrace'>{</SPAN> <SPAN class='id identifier rubyid__1'>_1</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_arguments'>arguments</SPAN> <SPAN class=
'op'>=</SPAN> <SPAN class='id identifier rubyid_fn'>fn</SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_arguments'>arguments</SPAN> <SPAN class='rbrace'>}</SPAN>
  <SPAN class='kw'>end</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="assistant?-instance_method">
          #<STRONG>assistant?</STRONG> ⇒ <TT>Boolean</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when the message is an assistant message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Boolean</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


74
75
76</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 74</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_assistant?'>assistant?</SPAN>
  <SPAN class='id identifier rubyid_role'>role</SPAN> <SPAN class=
'op'>==</SPAN> <SPAN class='tstring'><SPAN class=
'tstring_beg'>"</SPAN><SPAN class=
'tstring_content'>assistant</SPAN><SPAN class='tstring_end'>"</SPAN></SPAN> <SPAN class='op'>||</SPAN> <SPAN class='id identifier rubyid_role'>role</SPAN> <SPAN class='op'>==</SPAN> <SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class='tstring_content'>model</SPAN><SPAN class='tstring_end'>"</SPAN></SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="system?-instance_method">
          #<STRONG>system?</STRONG> ⇒ <TT>Boolean</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when the message is a system message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Boolean</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


81
82
83</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 81</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_system?'>system?</SPAN>
  <SPAN class='id identifier rubyid_role'>role</SPAN> <SPAN class=
'op'>==</SPAN> <SPAN class='tstring'><SPAN class=
'tstring_beg'>"</SPAN><SPAN class='tstring_content'>system</SPAN><SPAN class=
'tstring_end'>"</SPAN></SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="user?-instance_method">
          #<STRONG>user?</STRONG> ⇒ <TT>Boolean</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when the message is a user message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Boolean</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


88
89
90</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 88</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_user?'>user?</SPAN>
  <SPAN class='id identifier rubyid_role'>role</SPAN> <SPAN class=
'op'>==</SPAN> <SPAN class='tstring'><SPAN class=
'tstring_beg'>"</SPAN><SPAN class='tstring_content'>user</SPAN><SPAN class=
'tstring_end'>"</SPAN></SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="tool_call?-instance_method">
          #<STRONG>tool_call?</STRONG> ⇒ <TT>Boolean</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when the message requests a function call</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI>
                <SPAN class='type'>(<TT>Boolean</TT>)</SPAN> —
                <DIV class='inline'>
                  <P>Returns true when the message requests a function call</P>
                </DIV>
              </LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


95
96
97</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 95</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_tool_call?'>tool_call?</SPAN>
  <SPAN class='id identifier rubyid_tool_calls'>tool_calls</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_any?'>any?</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="tool_return?-instance_method">
          #<STRONG>tool_return?</STRONG> ⇒ <TT>Boolean</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns true when the message represents a function return</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI>
                <SPAN class='type'>(<TT>Boolean</TT>)</SPAN> —
                <DIV class='inline'>
                  <P>Returns true when the message represents a function
                  return</P>
                </DIV>
              </LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


102
103
104
105</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 102</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_tool_return?'>tool_return?</SPAN>
  <SPAN class='const'><SPAN class='object_link'><A href="../LLM.html" title=
"LLM (module)">LLM</A></SPAN></SPAN><SPAN class='op'>::</SPAN><SPAN class=
'const'><SPAN class='object_link'><A href="Function.html" title=
"LLM::Function (class)">Function</A></SPAN></SPAN><SPAN class=
'op'>::</SPAN><SPAN class='const'><SPAN class='object_link'><A href=
"Function/Return.html" title=
"LLM::Function::Return (class)">Return</A></SPAN></SPAN> <SPAN class=
'op'>===</SPAN> <SPAN class=
'id identifier rubyid_content'>content</SPAN> <SPAN class='op'>||</SPAN>
    <SPAN class='lbracket'>[</SPAN><SPAN class='op'>*</SPAN><SPAN class=
'id identifier rubyid_content'>content</SPAN><SPAN class=
'rbracket'>]</SPAN><SPAN class='period'>.</SPAN><SPAN class=
'id identifier rubyid_grep'>grep</SPAN><SPAN class=
'lparen'>(</SPAN><SPAN class='const'><SPAN class='object_link'><A href=
"../LLM.html" title="LLM (module)">LLM</A></SPAN></SPAN><SPAN class=
'op'>::</SPAN><SPAN class='const'><SPAN class='object_link'><A href=
"Function.html" title=
"LLM::Function (class)">Function</A></SPAN></SPAN><SPAN class=
'op'>::</SPAN><SPAN class='const'><SPAN class='object_link'><A href=
"Function/Return.html" title=
"LLM::Function::Return (class)">Return</A></SPAN></SPAN><SPAN class=
'rparen'>)</SPAN><SPAN class='period'>.</SPAN><SPAN class=
'id identifier rubyid_any?'>any?</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="response-instance_method">
          #<STRONG>response</STRONG> ⇒ <TT><SPAN class='object_link'><A href=
          "Response.html" title=
          "LLM::Response (class)">LLM::Response</A></SPAN></TT><SUP>?</SUP></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <DIV class="note notetag">
                <STRONG>Note:</STRONG>
                <DIV class='inline'>
                  <P>This method returns a response for assistant messages, and
                  it returns nil for non-assistant messages</P>
                </DIV>
              </DIV>
              <P>Returns the response associated with the message, or nil</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI>
                <SPAN class='type'>(<TT><SPAN class='object_link'><A href=
                "Response.html" title=
                "LLM::Response (class)">LLM::Response</A></SPAN></TT>,
                <TT>nil</TT>)</SPAN> —
                <DIV class='inline'>
                  <P>Returns the response associated with the message, or
                  nil</P>
                </DIV>
              </LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


113
114
115</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 113</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_response'>response</SPAN>
  <SPAN class='id identifier rubyid_extra'>extra</SPAN><SPAN class=
'lbracket'>[</SPAN><SPAN class='symbol'>:response</SPAN><SPAN class=
'rbracket'>]</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="annotations-instance_method">
          #<STRONG>annotations</STRONG> ⇒ <TT>Array&lt;<SPAN class=
          'object_link'><A href="Object.html" title=
          "LLM::Object (class)">LLM::Object</A></SPAN>&gt;</TT></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <DIV class="note notetag">
                <STRONG>Note:</STRONG>
                <DIV class='inline'>
                  <P>This method might return annotations for assistant
                  messages, and it returns an empty array for non-assistant
                  messages</P>
                </DIV>
              </DIV>
              <P>Returns annotations associated with the message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT>Array&lt;<SPAN class=
              'object_link'><A href="Object.html" title=
              "LLM::Object (class)">LLM::Object</A></SPAN>&gt;</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


123
124
125</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 123</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_annotations'>annotations</SPAN>
  <SPAN class='ivar'>@annotations</SPAN> <SPAN class=
'op'>||=</SPAN> <SPAN class='const'><SPAN class='object_link'><A href=
"../LLM.html" title="LLM (module)">LLM</A></SPAN></SPAN><SPAN class=
'op'>::</SPAN><SPAN class='const'><SPAN class='object_link'><A href=
"Object.html" title="LLM::Object (class)">Object</A></SPAN></SPAN><SPAN class=
'period'>.</SPAN><SPAN class=
'id identifier rubyid_from'>from</SPAN><SPAN class='lparen'>(</SPAN><SPAN class='id identifier rubyid_extra'>extra</SPAN><SPAN class='lbracket'>[</SPAN><SPAN class='tstring'><SPAN class='tstring_beg'>"</SPAN><SPAN class='tstring_content'>annotations</SPAN><SPAN class='tstring_end'>"</SPAN></SPAN><SPAN class='rbracket'>]</SPAN> <SPAN class='op'>||</SPAN> <SPAN class='lbracket'>[</SPAN><SPAN class='rbracket'>]</SPAN><SPAN class='rparen'>)</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="usage-instance_method">
          #<STRONG>usage</STRONG> ⇒ <TT><SPAN class='object_link'><A href=
          "Object.html" title=
          "LLM::Object (class)">LLM::Object</A></SPAN></TT><SUP>?</SUP>
          <SPAN class="aliases">Also known as: <SPAN class="names"><SPAN id=
          'token_usage-instance_method'>token_usage</SPAN></SPAN></SPAN></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <DIV class="note notetag">
                <STRONG>Note:</STRONG>
                <DIV class='inline'>
                  <P>This method returns token usage for assistant messages,
                  and it returns nil for non-assistant messages</P>
                </DIV>
              </DIV>
              <P>Returns token usage statistics</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI><SPAN class='type'>(<TT><SPAN class='object_link'><A href=
              "Object.html" title=
              "LLM::Object (class)">LLM::Object</A></SPAN></TT>,
              <TT>nil</TT>)</SPAN></LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


133
134
135
136</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 133</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_usage'>usage</SPAN>
  <SPAN class='kw'>return</SPAN> <SPAN class='kw'>nil</SPAN> <SPAN class=
'kw'>unless</SPAN> <SPAN class='id identifier rubyid_response'>response</SPAN>
  <SPAN class='ivar'>@usage</SPAN> <SPAN class='op'>||=</SPAN> <SPAN class=
'id identifier rubyid_response'>response</SPAN><SPAN class=
'period'>.</SPAN><SPAN class='id identifier rubyid_usage'>usage</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
        <DIV class="method_details">
          <H3 class="signature" id="model-instance_method">
          #<STRONG>model</STRONG> ⇒ <TT>String</TT><SUP>?</SUP></H3>
          <DIV class="docstring">
            <DIV class="discussion">
              <P>Returns the model associated with a message</P>
            </DIV>
          </DIV>
          <DIV class="tags">
            <P class="tag_title">Returns:</P>
            <UL class="return">
              <LI>
                <SPAN class='type'>(<TT>String</TT>, <TT>nil</TT>)</SPAN> —
                <DIV class='inline'>
                  <P>Returns the model associated with a message</P>
                </DIV>
              </LI>
            </UL>
          </DIV>
          <TABLE class="source_code">
            <TR>
              <TD>
                <PRE class="lines">


142
143
144</PRE>
              </TD>
              <TD>
                <PRE class="code"><SPAN class=
                "info file"># File 'lib/llm/message.rb', line 142</SPAN>

<SPAN class='kw'>def</SPAN> <SPAN class=
'id identifier rubyid_model'>model</SPAN>
  <SPAN class='id identifier rubyid_response'>response</SPAN><SPAN class=
'op'>&amp;.</SPAN><SPAN class='id identifier rubyid_model'>model</SPAN>
<SPAN class='kw'>end</SPAN></PRE>
              </TD>
            </TR>
          </TABLE>
        </DIV>
      </DIV>
    </DIV>
    <DIV id="footer">
      Generated on Sun Feb 22 12:47:39 2026 by <A href="https://yardoc.org"
      title="Yay! A Ruby Documentation Tool" target="_parent">yard</A> 0.9.36
      (ruby-3.4.5).
    </DIV>
  </DIV>
</BODY>
</HTML>
